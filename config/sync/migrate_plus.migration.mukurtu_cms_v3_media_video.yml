uuid: 734d77d3-62d4-46d9-a7af-f0900c16e421
langcode: en
status: true
dependencies: {  }
_core:
  default_config_hash: RjQHuiAyGyEcoQenRet8Dl87APChQRsuReASRZqeXmo
id: mukurtu_cms_v3_media_video
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - 'Mukurtu 3'
migration_group: mukurtu_cms_v3
label: 'Media - Video'
source:
  plugin: d7_scald_atom
  atom_type: video
process:
  bundle:
    -
      plugin: static_map
      source: provider
      map:
        scald_vimeo: remote_video
        scald_video: video
      default_value: video
  id: sid
  langcode: language
  name: title
  field_contributor:
    plugin: migration_lookup
    migration: mukurtu_cms_v3_terms_contributor
    source: field_contributor
  field_people:
    plugin: migration_lookup
    migration: mukurtu_cms_v3_terms_people
    source: field_people
  field_cultural_protocols/sharing_setting:
    -
      plugin: default_value
      default_value: any
  field_cultural_protocols/protocols:
    -
      plugin: sub_process
      source: field_scald_protocol
      process:
        target_id:
          plugin: migration_lookup
          migration: mukurtu_cms_v3_cultural_protocols
          source: target_id
    -
      plugin: mukurtu_migrate_set_protocols
  field_media_video_file:
    plugin: migration_lookup
    migration:
      - mukurtu_cms_v3_file_private
      - mukurtu_cms_v3_file
    source: base_id
  thumbnail/target_id:
    plugin: migration_lookup
    migration:
      - mukurtu_cms_v3_file_private
      - mukurtu_cms_v3_file
    source: scald_thumbnail/0/fid
  thumbnail/alt:
    -
      plugin: null_coalesce
      source:
        - scald_thumbnail/0/field_caption
        - title
        - scald_thumbnail/0/field_filename
    -
      plugin: default_value
      default_value: 'Missing Alt Text'
  field_thumbnail/target_id:
    plugin: migration_lookup
    migration:
      - mukurtu_cms_v3_file_private
      - mukurtu_cms_v3_file
    source: scald_thumbnail/0/fid
  field_thumbnail/alt:
    -
      plugin: null_coalesce
      source:
        - scald_thumbnail/0/field_caption
        - title
        - scald_thumbnail/0/field_filename
    -
      plugin: default_value
      default_value: 'Missing Alt Text'
  field_media_tags:
    plugin: migration_lookup
    migration: mukurtu_cms_v3_terms_media_tags
    source: scald_tags
destination:
  plugin: 'entity:media'
migration_dependencies:
  required:
    - mukurtu_cms_v3_cultural_protocols
    - mukurtu_cms_v3_terms_contributor
    - mukurtu_cms_v3_terms_people
    - mukurtu_cms_v3_terms_media_tags
    - mukurtu_cms_v3_terms_authors
    - mukurtu_cms_v3_file_private
    - mukurtu_cms_v3_file
  optional:
    - d7_field_instance
